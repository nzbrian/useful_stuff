#basic directory sharing

sudo apt install samba

sudo smbpasswd -a <user>

sudo vi /etc/samba/smb.conf

#add the following at the bottom

[<share_name>]
path = /<pathto>/<folder_name>
valid users = <user>
read only = no


sudo systemctl restart smbd



#print server
#cups: https://help.ubuntu.com/lts/serverguide/cups.html.en-GB
#samba: https://help.ubuntu.com/lts/serverguide/samba-printserver.html

#on ubuntu
#installed server with printer, samba and ssh server pre-configured

lpinfo -v

#I see direct usb://Brother/HLblah

sudo vi /etc/cups/cupsd.conf
#remove the line: Listen localhost:631
#add the line: Port 631

sudo systemctl restart cups

sudo usermod -aG lpadmin root
sudo usermod -aG lpadmin brian















#going to try this on an alpine server - THAT DIDN"T WORK FOR A BROTHER PRINTER ANYWAY
#https://wiki.alpinelinux.org/wiki/Printer_Setup
#https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server

#enable the community repository in /etc/apk/repositories 
apk update
apk upgrade

apk add cups cups-libs cups-client cups-filters

cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original
chmod a-w /etc/cups/cupsd.conf.original

vi /etc/cups/cupsd.conf
#remove the line: Listen localhost:631
#add the line: Port 631


adduser root lp
adduser root lpadmin

rc-service cupsd start
rc-update add cupsd
reboot

lsusb #see what usb devices are attached
lpinfo -v # see what printers
